<ng-include src="'./partials/toolbar.html'" style=""></ng-include>
<div id="addLayerWrapper">
    <div id="addLayer" class="btn btn__icon btn__icon__small no-print" aria-label="Add Layer" title="Add Layer"
         ng-click="order.addLayer();">
        <i class="icon material-icons">add</i>
    </div>
</div>
<form name="orderForm" novalidate>
    <div flex layout="row" flex-wrap>
        <!--First Name-->
        <div class="element" flex-sm="100" flex-md="33">
            <label>First Name</label>
            <input name="firstName" ng-model="order.firstName" required minlength="3" md-maxlength="30"
                   ng-blur="order.save();">

            <div ng-messages="orderForm.firstName.$error" ng-show="orderForm.firstName.$dirty">
                <div ng-messages-include="./partials/errors.html"></div>
            </div>
        </div>
        <!--Last Name-->
        <div class="element" flex-sm="100" flex-md="33">
            <label>Last Name</label>
            <input name="lastName" ng-model="order.lastName" required minlength="3" md-maxlength="30"
                   ng-blur="order.save();">

            <div ng-messages="orderForm.lastName.$error" ng-show="orderForm.lastName.$dirty">
                <div ng-messages-include="./partials/errors.html"></div>
            </div>
        </div>
        <!--Spacer-->
        <div class="spacer" flex-sm="0" flex-md="33"></div>
        <!--Email-->
        <div class="element" flex-sm="100" flex-md="33">
            <label>Email</label>
            <input name="email" ng-model="order.email" type="email" required ng-blur="order.save();">

            <div ng-messages="orderForm.email.$error" ng-show="orderForm.email.$dirty">
                <div ng-messages-include="./partials/errors.html"></div>
            </div>
        </div>
        <!--Phone Number-->
        <div class="element" flex-sm="100" flex-md="33">
            <label>Phone Number</label>
            <input name="phoneNum" ng-model="order.phoneNum" type="tel" required phone-valid ng-blur="order.save();">

            <div ng-messages="orderForm.phoneNum.$error" ng-show="orderForm.phoneNum.$dirty">
                <div ng-messages-include="./partials/errors.html"></div>
            </div>
        </div>
        <!--Address One-->
        <div class="element" flex-sm="100" flex-md="50">
            <label>Address One</label>
            <input name="addressOne" ng-model="order.addressOne" required minlength="3" md-maxlength="30"
                   ng-blur="order.save();">

            <div ng-messages="orderForm.addressOne.$error" ng-show="orderForm.addressOne.$dirty">
                <div ng-messages-include="./partials/errors.html"></div>
            </div>
        </div>
        <!--Address Two-->
        <div class="element" flex-sm="100" flex-md="50">
            <label>Address Two</label>
            <input name="addressTwo" ng-model="order.addressTwo" ng-blur="order.setAddressTwo();">
        </div>
        <!--City-->
        <div class="element" flex-sm="100" flex-md="33">
            <label>City</label>
            <input name="city" ng-model="order.city" required minlength="3" md-maxlength="60" ng-blur="order.save();">

            <div ng-messages="orderForm.city.$error" ng-show="orderForm.city.$dirty">
                <div ng-messages-include="./partials/errors.html"></div>
            </div>
        </div>
        <!--State-->
        <div class="element" flex-sm="100" flex-md="33">
            <label>State</label>

            <div class="button custom-select">
                <select ng-model="order.state" required ng-change="order.save();"
                        ng-options="state.id as state.abbreviation for state in order.states"></select>
            </div>
            <div ng-messages="orderForm.state.$error" ng-show="orderForm.state.$dirty">
                <div ng-messages-include="./partials/errors.html"></div>
            </div>
        </div>
        <!--Zipcode-->
        <div class="element" flex-sm="100" flex-md="33">
            <label>Zip Code</label>
            <input name="zipcode" ng-model="order.zipcode" required zipcode-valid minlength="5" md-maxlength="10"
                   ng-blur="order.save();">

            <div ng-messages="orderForm.zipcode.$error" ng-show="orderForm.zipcode.$dirty">
                <div ng-messages-include="./partials/errors.html"></div>
            </div>
        </div>
        <!--Payment Method-->
        <div class="element" style="margin: 16px 0;" flex flex-wrap layout="row" flex-sm="100">
            <div class="label" style="margin: auto 16px auto 0;">Payment Method</div>
            <div flex layout="row" layout-wrap role="group">
                <input type="radio" id="cash" name="payment" ng-model="order.payment" value="Cash" aria-label="Cash"
                       ng-change="order.save();">
                <label for="cash">Cash</label>
                <input type="radio" id="monayOrder" name="payment" ng-model="order.payment" value="Money Order"
                       aria-label="Money Order" ng-change="order.save();">
                <label for="monayOrder">Money Order</label>
                <input type="radio" id="PayPal" name="payment" ng-model="order.payment" value="PayPal"
                       aria-label="PayPal" ng-change="order.save();">
                <label for="PayPal">
                    <div Pay-Pal-Icon></div>
                </label>
            </div>
            <div ng-messages="orderForm.payment.$error" ng-show="orderForm.payment.$dirty">
                <div ng-messages-include="./partials/errors.html"></div>
            </div>
            <div style="margin: auto 0;">No personal checks.</div>
        </div>
        <!--Size-->
        <div class="element" flex-sm="100" flex-md="33" ng-repeat-start="layer in order.layers" ng-form="layersRepeat">
            <label>Size</label>
            <div class="button custom-select">
                <select ng-model="layer.size" required ng-change="order.save();"
                        ng-options="size.id as size.name for size in order.layerSizes"></select>
            </div>
            <div ng-messages="layersRepeat.size.$error" ng-show="layersRepeat.size.$dirty">
                <div ng-messages-include="./partials/errors.html"></div>
            </div>
        </div>
        <!--Cake Flavor-->
        <div class="element" flex-sm="100" flex-md="33">
            <label>Cake Flavor</label>
            <div class="button custom-select">
                <select ng-model="layer.cake" required ng-change="order.save();"
                        ng-options="cake.id as cake.name for cake in order.cakeFlavors"></select>
            </div>
            <div ng-messages="layersRepeat.cake.$error" ng-show="layersRepeat.cake.$dirty">
                <div ng-messages-include="./partials/errors.html"></div>
            </div>
        </div>
        <!--Frosting Flavor-->
        <div class="element" flex-sm="100" flex-md="33" ng-repeat-end>
            <label>Frosting Flavor</label>
            <div class="button custom-select">
                <select ng-model="layer.frosting" required ng-change="order.save();"
                        ng-options="frosting.id as frosting.name for frosting in order.frostingFlavors"></select>
            </div>
            <div ng-messages="layersRepeat.frosting.$error" ng-show="layersRepeat.frosting.$dirty">
                <div ng-messages-include="./partials/errors.html"></div>
            </div>
        </div>
    </div>
</form>